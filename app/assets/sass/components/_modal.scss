@use 'nhsuk-frontend/dist/nhsuk/core/settings' as *;
@use 'nhsuk-frontend/dist/nhsuk/core/tools' as *;

// Prevent background scrolling when modal is open
body.app-modal-open {
  height: 100vh;
  overflow: hidden;
  width: 100%;
  position: fixed;
}

.app-modal {
  &[hidden] {
    display: none;
  }

  &.app-modal--open {
    display: block;
  }
}

// Modal overlay
.app-modal__overlay {
  position: fixed;
  z-index: 1001;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8); // Use direct color value
}

// Modal dialog container
.app-modal__dialog {
  position: fixed;
  z-index: 1002;
  top: 50%;
  left: 50%;
  width: calc(100vw - #{nhsuk-spacing(4)});
  max-width: 500px; // Increased from 435px
  max-height: 90vh;

  transform: translate(-50%, -50%);
  overflow-y: auto;

  background-color: $color_nhsuk-white;
  border: $nhsuk-focus-width solid $color_nhsuk-black;

  @include nhsuk-responsive-padding(5);

  &:focus {
    outline: $nhsuk-focus-width solid $nhsuk-focus-color;
  }

  @include nhsuk-media-query($from: tablet) {
    width: 500px; // Increased from 435px
  }
}

// Modal content
.app-modal__title {
  margin-top: 0;
}

.app-modal__body {
  margin-bottom: nhsuk-spacing(4);

  &:last-child {
    margin-bottom: 0;
  }
}

// Modal actions
.app-modal__actions {
  margin-top: nhsuk-spacing(4);

  .nhsuk-button {
    margin-bottom: 0;
  }
}