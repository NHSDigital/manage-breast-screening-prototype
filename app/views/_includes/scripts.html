<script type="module" src="/assets/javascript/main.js"></script>

<!-- Add any custom scripts -->
{% if currentPage.indexOf("/prototype-admin/") === -1 %}
  <script type="module" src="/assets/javascript/is-sticky.js"></script>
  <script type="module" src="/assets/javascript/button-menu.js"></script>
  <script type="module" src="/assets/javascript/modal.js"></script>
  <script type="module" src="/assets/javascript/scroll-to-section.js"></script>
  <script type="module" src="/assets/javascript/expanded-state-tracker.js"></script>
  <script type="module" src="/assets/javascript/expandable-sections.js"></script>
  <script type="module" src="/assets/javascript/stepper-input.js"></script>
  <script type="module" src="/assets/javascript/mammogram-channel.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Find the clear data link and add click handler
      const $resetLink = document.querySelector('a[data-reset-session]')
      if ($resetLink) {
        $resetLink.addEventListener('click', () => {
          // Clear expanded states before navigating
          if (window.clearAllExpandedStates) {
            window.clearAllExpandedStates()
            console.log('Cleared expanded states before data clear')
          }
        })
      }
    })
  </script>
{% endif %}
