{# app/views/events/medical-information/medical-history/breast-cancer.html #}

{% extends 'layout-medical-history-form.html' %}

{% set pageHeading = "Breast cancer" %}
{% set medicalHistoryType = "breastCancer" %}

{% block formContent %}

{% call fieldset({
  legend: {
    text: "In which breast(s) has " + (participant.firstName or "the participant") + " had a cancer diagnosis?",
    classes: "nhsuk-fieldset__legend--m"
  }
}) %}

  <div class="nhsuk-hint">
    Include any breast cancer diagnosis including initial, recurring or secondary
  </div>

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-one-half">
      {{ checkboxes({
        name: "event[medicalHistoryTemp][breastLocation]",
        values: event.medicalHistoryTemp.breastLocation,
        items: [
          {
            value: "right",
            text: "Right breast"
          }
        ]
      }) }}
    </div>
    <div class="nhsuk-grid-column-one-half">
      {{ checkboxes({
        name: "event[medicalHistoryTemp][breastLocation]",
        values: event.medicalHistoryTemp.breastLocation,
        items: [
          {
            value: "left",
            text: "Left breast"
          }
        ]
      }) }}
    </div>
  </div>

  {{ checkboxes({
    name: "event[medicalHistoryTemp][breastLocation]",
    values: event.medicalHistoryTemp.breastLocation,
    items: [
      {
        divider: "or"
      },
      {
        value: "does-not-know",
        text: "Does not know"
      }
    ]
  }) }}

{% endcall %}

  {% call fieldset({
    legend: {
      text: "In what year was breast cancer first diagnosed?",
      classes: "nhsuk-fieldset__legend--m"
    }
  }) %}

    {{ input({
      name: "event[medicalHistoryTemp][diagnosisDate]",
      value: event.medicalHistoryTemp.diagnosisDate,
      id: "diagnosis-date",
      classes: "nhsuk-input--width-10",
      hint: {
        text: "For example, 2019"
      },
      pattern: "[0-9]*",
      inputmode: "numeric"
    }) }}

  {% endcall %}

  {% call fieldset({
    legend: {
      text: "What surgery have they had?",
      classes: "nhsuk-fieldset__legend--m"
    }
  }) %}

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-one-half">
        <h3 class="nhsuk-heading-s">Right breast (or axilla)</h3>
        {{ checkboxes({
          name: "event[medicalHistoryTemp][surgeryRightBreast]",
          values: event.medicalHistoryTemp.surgeryRightBreast,
          items: [
            {
              value: "full-mastectomy",
              text: "Full mastectomy"
            },
            {
              value: "lumpectomy",
              text: "Lumpectomy (or partial mastectomy)"
            },
            {
              value: "lymph-node-surgery",
              text: "Lymph node surgery"
            },
            {
              value: "reconstruction",
              text: "Reconstruction"
            },
            {
              value: "symmetrisation",
              text: "Symmetrisation"
            },
            {
              value: "no-surgery",
              text: "No surgery"
            }
          ]
        }) }}
      </div>
      <div class="nhsuk-grid-column-one-half">
        <h3 class="nhsuk-heading-s">Left breast (or axilla)</h3>
        {{ checkboxes({
          name: "event[medicalHistoryTemp][surgeryLeftBreast]",
          values: event.medicalHistoryTemp.surgeryLeftBreast,
          items: [
            {
              value: "full-mastectomy",
              text: "Full mastectomy"
            },
            {
              value: "lumpectomy",
              text: "Lumpectomy (or partial mastectomy)"
            },
            {
              value: "lymph-node-surgery",
              text: "Lymph node surgery"
            },
            {
              value: "reconstruction",
              text: "Reconstruction"
            },
            {
              value: "symmetrisation",
              text: "Symmetrisation"
            },
            {
              value: "no-surgery",
              text: "No surgery"
            }
          ]
        }) }}
      </div>
    </div>

  {% endcall %}

  {% call fieldset({
    legend: {
      text: "What treatment have they had?",
      classes: "nhsuk-fieldset__legend--m"
    }
  }) %}

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-one-half">
        <h3 class="nhsuk-heading-s">Right breast (or axilla)</h3>
        {{ checkboxes({
          name: "event[medicalHistoryTemp][treatmentRightBreast]",
          values: event.medicalHistoryTemp.treatmentRightBreast,
          items: [
            {
              value: "breast-radiotherapy",
              text: "Breast radiotherapy"
            },
            {
              value: "lymph-node-radiotherapy",
              text: "Lymph node radiotherapy"
            },
            {
              value: "no-radiotherapy",
              text: "No radiotherapy"
            }
          ]
        }) }}
      </div>

      <div class="nhsuk-grid-column-one-half">
        <h3 class="nhsuk-heading-s">Left breast (or axilla)</h3>
        {{ checkboxes({
          name: "event[medicalHistoryTemp][treatmentLeftBreast]",
          values: event.medicalHistoryTemp.treatmentLeftBreast,
          items: [
            {
              value: "breast-radiotherapy",
              text: "Breast radiotherapy"
            },
            {
              value: "lymph-node-radiotherapy",
              text: "Lymph node radiotherapy"
            },
            {
              value: "no-radiotherapy",
              text: "No radiotherapy"
            }
          ]
        }) }}
      </div>
    </div>

    <h3>Systemic treatments</h3>

    {{ checkboxes({
      name: "event[medicalHistoryTemp][systemicTreatments]",
      values: event.medicalHistoryTemp.systemicTreatments,
      items: [
        {
          value: "chemotherapy",
          text: "Chemotherapy"
        },
        {
          value: "hormone-therapy",
          text: "Hormone (endocrine) therapy"
        },
        {
          value: "targeted-therapy",
          text: "Targeted (biological) therapy"
        },
        {
          value: "bisphosphonates",
          text: "Bisphosphonates"
        },
        {
          value: "other",
          text: "Other"
        }
      ]
    }) }}

  {% endcall %}


  {% set treatmentLocationText = "Where did surgery and treatment take place?" %}
  {% include "_includes/medical-information/medical-history/location.njk" %}

  {% set additionalDetailsHintText = "Include any other relevant information about the treatment" %}
  {% include "_includes/medical-information/medical-history/additional-details.njk" %}

{% endblock formContent %}
